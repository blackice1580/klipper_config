# This file contains common pin mappings for the BigTreeTech Octopus Pro V1.
# To use this config, the firmware should be compiled for the
# STM32F446 with a "32KiB bootloader" and a "12MHz crystal" clock reference.

#####################################
###	 MCU X/Y/Z/E Stepper Drivers  ###
#####################################
## Octopus Pro
# [X]       - B Motor Driver 0
# [Y]       - A Motor Driver 1
# [Z Back]  - Z Motor Driver 2
# [Z Left]  - Z Motor Driver 3
# [Z Right] - Z Motor Driver 4
#
###################################
## Toolboard
# [E]       - Toolboard
#
###################################

[include Hardware/MCU/Octopus_Pro.cfg]
[include Hardware/MCU/RPI.cfg]
[include Hardware/*.cfg]
[include Hardware/MCU/SHT36v2.cfg]
;[include Hardware/MCU/Huvud.cfg]

[include Hardware/ADXL/ADXL_rpi.cfg]
;[include Hardware/ADXL/ADXL_Toolhead.cfg]

;[include Hardware/Probe/klicky/*.cfg]

[include ERCF/*.cfg]

[include Macros/*/*.cfg]

[include Addons/*.cfg]

[include Variables.cfg]

###################################
###  Printer Settings           ###
###################################
[printer]
kinematics: corexy
max_velocity: 1500
max_accel: 25000
max_accel_to_decel: 25000
square_corner_velocity: 20.0
max_z_velocity: 20
max_z_accel: 100

[firmware_retraction]
retract_length: 0.50
retract_speed: 30
unretract_extra_length: 0
unretract_speed: 30

[beacon]
serial: /dev/serial/by-id/usb-Beacon_Beacon_RevD_2F8751F8515137474C202020FF0C2824-if00
x_offset: 0
y_offset: 27.065
mesh_main_direction: x
mesh_runs: 2

[safe_z_home]
home_xy_position: 152.5, 125.435
z_hop: 3

;[probe]
;pin: ^toolboard:LIMIT_1 # ^ pullup for limit switches like Klicky
;x_offset: 2
;y_offset: 21
;z_offset: 7.4
;speed: 5
;lift_speed: 10
;samples: 3
;samples_result: median
;sample_retract_dist: 3.0
;samples_tolerance: 0.01
;samples_tolerance_retries: 3

[gcode_arcs]
resolution: 0.1

[exclude_object]

[virtual_sdcard]
path: ~/gcode_files

[idle_timeout]
timeout: 1800

[pause_resume]

[display_status]

[respond]

[force_move]
enable_force_move: True

[resonance_tester]
accel_chip: adxl345
probe_points:
    152.5, 152.5, 20
#accel_per_hz: 100
#max_smoothing: 0.25  # an example

[linear_movement_vibrations]
accel_chip: adxl345
x_min: 10
x_max: 300
y_min: 10
y_max: 300
output_directory: /home/pi/klipper_config/linear_vibrations/

[input_shaper]
shaper_freq_x: 89.6
shaper_type_x: mzv
shaper_freq_y: 54.6
shaper_type_y: mzv

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [input_shaper]
#*#
#*# [heater_bed]
#*# control = pid
#*# pid_kp = 53.974
#*# pid_ki = 2.626
#*# pid_kd = 277.289
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 24.462
#*# pid_ki = 1.647
#*# pid_kd = 90.817
